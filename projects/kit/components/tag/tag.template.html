<div
    class="t-tag"
    [style.backgroundColor]="backgroundColor"
    (dblclick)="edit($event)"
>
    <div
        *ngIf="leftContent"
        class="t-content"
    >
        <ng-container *polymorpheusOutlet="leftContent as text">
            {{ text }}
        </ng-container>
    </div>
    <span
        automation-id="tui-tag__text"
        class="t-text"
        [textContent]="displayText"
    ></span>
    <tui-loader
        *ngIf="showLoader"
        class="t-content"
        [inheritColor]="true"
        [size]="loaderSize"
    ></tui-loader>
    <ng-container *ngIf="canRemove">
        <tui-svg
            *polymorpheusOutlet="iconCleaner as src; context: {$implicit: size}"
            tuiPreventDefault="mousedown"
            automation-id="tui-tag__remove"
            class="t-icon"
            [src]="src"
            (click)="remove($event)"
        ></tui-svg>
    </ng-container>
</div>
<input
    *ngIf="editing"
    #input
    automation-id="tui-tag__edit"
    type="text"
    class="t-edit"
    [attr.maxLength]="maxLength"
    [ngModel]="editedText"
    (ngModelChange)="onInput($event)"
    (blur)="onBlur()"
    (keydown)="onKeyDown($event)"
/>
